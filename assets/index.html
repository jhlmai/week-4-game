<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>Document</title>
</head>

<body>
    <div id="instructions">
        <h1>Crystals Collector!</h1>
        <!-- instructions -->
        <h3>You will be given a random number at the start of the game.</h3>
        <h3>There are four crystals below. By clicking on a crystal you will add a specific amount of poits to your total score.</h3>
        <h3>You win the game by matching your total score to randomly generated number, you lose the game if your total score
            goes above the random number.</h3>
        <h3>The value of each crystal is hidden from you until you click on it.</h3>
        <h3>Each time when the game starts, the game will change the values of each crystal.</h3>
    </div>

    <!-- target random number -->
    <div id="target">
        <h1>Target:
            <span id="targetNumber"></span>
        </h1>
    </div>


    <!-- wins and losses counter -->
    <div id="winsAndLossesCounter">
        <p>Wins:
            <span id="wins"></span>
        </p>
        <p>Losses:
            <span id="losses"></span>
        </p>
    </div>

    <!-- images as buttons -->
    <div id="crystalImages">
        <button>
            <img src="images/Light-blue-icon.png" id="light-blue" style="width:100px;height:100px">
        </button>
        <button>
            <img src="images/Purple-crystal-icon.png" id="purple" style="width:100px;height:100px">
        </button>
        <button>
            <img src="images/Red-icon.png" id="red" style="width:100px;height:100px">
        </button>
        <button>
            <img src="images/Sapphire-icon.png" id="sapphire" style="width:100px;height:100px">
        </button>
    </div>

    <div id="scoreTotal">
        <h1>Current Score:
            <span id="currentScore"></span>
        </h1>
    </div>



    <script>
        $(document).ready(function () {


            // create variables
            var generatedNum = 0;
            var wins = 0;
            var losses = 0;
            var lightBlueNum;
            var purpleNum;
            var redNum;
            var sapphireNum;
            var currentScore;


            // each time win or lose or start of game, reset to this:
            function newReset() {
                generatedNum = Math.floor(Math.random() * 102) + 19;
                lightBlueNum = Math.floor(Math.random() * 12) + 1;
                purpleNum = Math.floor(Math.random() * 12) + 1;
                redNum = Math.floor(Math.random() * 12) + 1;
                sapphireNum = Math.floor(Math.random() * 12) + 1;
                currentScore = 0;
                
                $('#targetNumber').text(generatedNum);

            }


            newReset();


            // on click event for each of the crystal buttons
            $("#light-blue").on("click", function () {
                currentScore += lightBlueNum;
                $("#currentScore").text(currentScore);

                // console.log(currentScore);
            }),

                $("#purple").on("click", function () {
                    currentScore += purpleNum;
                    $("#currentScore").text(currentScore);
                }),

                $("#red").on("click", function () {
                    currentScore += redNum;
                    $("#currentScore").text(currentScore);
                }),

                $("#sapphire").on("click", function () {
                    currentScore += sapphireNum;
                    $("#currentScore").text(currentScore);
                })


            $("#crystalImages").on("click", function () {
                if (currentScore === generatedNum) {
                    wins++;
                    alert("you win");
                    $("#wins").text(wins);
                    newReset();
                    $("#targetNumber").text(Math.floor(Math.random() * 102) + 19);
                    $("#currentScore").text(currentScore);
                }
                if (currentScore > generatedNum) {
                    alert("you lose");
                    losses++;
                    $("#losses").text(losses);
                    newReset();
                    $("#targetNumber").text(Math.floor(Math.random() * 102) + 19);
                    $("#currentScore").text(currentScore);
                }
                console.log(currentScore);

            });
        });
    </script>
</body>

</html>